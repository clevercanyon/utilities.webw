/**
 * Exclusions.
 *
 * @note PLEASE DO NOT EDIT THIS FILE!
 * @note This entire file will be updated automatically.
 * @note Instead of editing here, please review <https://github.com/clevercanyon/skeleton>.
 */

import path from 'node:path';
import { $str } from '../../../../node_modules/@clevercanyon/utilities/dist/index.js';

/**
 * Converts an array of exclusions into regular expressions.
 *
 * @param   e Array of exclusions.
 *
 * @returns   Exclusions as regular expressions.
 */
const asRegExps = (e) => asRegExpStrings(e).map((e) => new RegExp(e, 'u'));

/**
 * Converts an array of exclusions into regular expression strings.
 *
 * @param   e Array of exclusions.
 *
 * @returns   Exclusions as regular expression strings.
 */
const asRegExpStrings = (e) =>
	e.map(
		(e) =>
			'^' +
			$str
				.escRegExp(e)
				.replace(/\\\*\\\*/gu, '.*')
				.replace(/\\\*/gu, '[^\\/]*') +
			'$',
	);

/**
 * Converts an array of exclusions into relative globs.
 *
 * @param   f From path for relative calculation.
 * @param   e Array of exclusions.
 *
 * @returns   Exclusions as relative globs.
 */
const asRelativeGlobs = (f, e) => e.map((e) => path.relative(f, e));

/**
 * Defines exclusions.
 *
 * @note Not using any `{}` brace expansions due to TypeScript being incompatible.
 *       i.e., These exclusions are also used by our TypeScript config file generator.
 */
export default {
	asRegExps,
	asRegExpStrings,
	asRelativeGlobs,

	vcsFilesDirs: [
		'**/.git/**', //

		'**/.svn/**',
		'**/_svn/**',
		'**/.svnignore/**',

		'**/CVS/**',
		'**/.cvsignore/**',

		'**/.bzr/**',
		'**/.bzrignore/**',

		'**/.hg/**',
		'**/.hgignore/**',

		'**/SCCS/**',
		'**/RCS/**',
	],
	packageDirs: [
		'**/.yarn/**', //
		'**/vendor/**',
		'**/node_modules/**',
		'**/jspm_packages/**',
		'**/bower_components/**',
	],
	dotFilesDirs: [
		'**/.*/**', //
	],
	dtsFiles: [
		'**/*.d.ts', //
		'**/*.d.tsx',
		'**/*.d.cts',
		'**/*.d.ctsx',
		'**/*.d.mts',
		'**/*.d.mtsx',
	],
	srcDirs: [
		'**/src/**', //
		'**/__src__/**',
	],
	distDirs: [
		'**/dist/**', //
	],
	devDirs: [
		'**/dev/**', //
		'**/__dev__/**',
	],
	sandboxDirs: [
		'**/sandbox/**', //
		'**/__sandbox__/**',
	],
	docDirs: [
		'**/doc/**', //
		'**/docs/**',
		'**/__doc__/**',
		'**/__docs__/**',
	],
	testDirs: [
		'**/test/**', //
		'**/tests/**',
		'**/spec/**',
		'**/specs/**',
		'**/__test__/**',
		'**/__tests__/**',
		'**/__spec__/**',
		'**/__specs__/**',
	],
	exampleDirs: [
		'**/example/**', //
		'**/examples/**',
		'**/__example__/**',
		'**/__examples__/**',
	],
	benchmarkDirs: [
		'**/bench/**', //
		'**/benchmark/**',
		'**/benchmarks/**',
		'**/__bench__/**',
		'**/__benchmark__/**',
		'**/__benchmarks__/**',
	],
	xDirs: [
		'**/x-*/**', //
		'**/__x-*__/**',
	],
};
